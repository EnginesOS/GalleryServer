<div class="col-md-9 col-md-offset-3 top-gap">
  <div class="published-software-tags-holder">
    <%= app.list_tags_by_name.map do |tag_name|
        ((link_to content_tag(:i, nil, class: "fa fa-trash"), remove_tag_app_path(app, remove_tag: tag_name, search: params[:search], page: params[:page], tags: params[:tags]), class: "btn-lg", data: { confirm: 'Are you sure that you want to remove this tag?' }) if admin_signed_in?).to_s.html_safe + (link_to tag_name, apps_path(tags: tag_name), class: "btn-lg trigger-response-modal")
      end.join(admin_signed_in? ? "<br>" : "").to_s.html_safe %>
  </div>
</div>

<% if admin_signed_in? %>
  <div class="">
    <div class="col-md-12 top-gap">
      <%= form_for app, url: add_tag_app_path(app), method: 'get' do |f| %>
        <div class="">
          <div class="col-sm-5">
            <%= select_tag :existing_tag, options_for_select(App.list_all_tags_by_name), prompt: "Existing tag", class: 'form-control' %>
          </div>
          <div class="col-sm-5">
            <%= text_field_tag :new_tag, nil, placeholder: "New tag", class: 'form-control' %>
          </div>
          <div class="col-sm-2">
            <%= hidden_field_tag :page, page %>
            <%= hidden_field_tag :search, search %>
            <%= hidden_field_tag :tags, tags %>
            <div class="btn-group">
              <%= button_tag(type: "submit", class: "btn btn-primary trigger-response-modal") do %>
                <%= content_tag(:i, "", class: "fa fa-tag") + ' Add' %>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
<% end %>